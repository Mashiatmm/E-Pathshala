{% extends 'base1.html' %}

{% block title %}Profile{% endblock %}

  
{% block body %}

<div class="container " style="background-color: #F8F9F9 ;">

    {% if error %}
    <div style="padding-top: 50px;"></div>
    <div class="alert alert-danger" style="padding-left: 400px;padding-top: 50;">{{error}}</div>
    {% endif %}
    
</div>

  
<h2 class="text-center">{{name}}</h2>
<h4 class="text-center">{{role}}</h4>

{% if role == 'teacher' %}
    <h1>Courses</h1>
    
    <a href="{% url 'courses:add_course'%}" class = "btn btn-lg btn-outline-primary btn-lg">Add Course</a>
    <ul>
    {% for course in courses %}
    
    <div class="modal fade" id="test{{course.0}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body mx-3">
                    <h5 class="modal-title w-100 font-weight-bold"  style="text-align:center">Delete this content permanently?</h5>
                    <form class="form-settings" action="{% url 'courses:del_course' course.0 %}" method="POST">
                    {% csrf_token %}
                    
                    
                    <div class="modal-footer d-flex justify-content-center">
                        <button class="btn btn-info btn-sm" type="submit">Confirm</button> 
                        
                    </div>
                  </form>
      
                </div>
                
            </div>
        
        </div>
      </div> 

      <div class="modal fade" id="contribute{{course.0}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body mx-3">
                    <h5 class="modal-title w-100 font-weight-bold"  style="text-align:center">Add Contributor</h5>
                    <form class="form-settings" action="{% url 'courses:contribute_course' course.0 %}" method="POST">
                    {% csrf_token %}
                    
                    <div class="md-form mb-4">
                        <label data-error="wrong" data-success="right" for="mail">Contributor's Mail ID</label>
                        <input type="text" id='mail' name = 'mail' class="form-control validate" required>
                        
                    </div>

                    <div class="modal-footer d-flex justify-content-center">
                        <button class="btn btn-info btn-sm" type="submit">Confirm</button> 
                        
                    </div>
                  </form>
      
                </div>
                
            </div>
        
        </div>
      </div> 


    <div class="row  pt-3  mydiv " >
        
        <div class="col-md-12"  onclick="window.location='{% url 'courses:course_contents' course.0 %}';" style="cursor:pointer;">
            <div class="row  pt-2" >
                <div class="col-6">
                    <h4 style="color:#069">{{course.1}}</h4>
                </div>

            </div>
            
            <div class="row  pt-1" >
                <div class="col-4">
                    <h6>Class {{ course.2 }}</h6>
                </div>
                <div class="col-4 text-right">
                    <h6><span class="oi oi-clock"></span> {{ course.3 }}</h6>
                </div>
              
            </div>

            <div class="row  pt-1" >
                <div class="col-4">
                    <h6 class ="text-uppercase">{{ course.5 }}</h6>
                </div>
                
              
            </div>

        {% if course.4 != None%}
            <div class="row  pt-3" >
              {{course.4}}
            </div>
        {% endif %}
   
        </div>

        <div class="col-md-3" >
            <a href="#contribute{{course.0}}" class= "btn btn-lg btn-outline-primary " data-toggle="modal">Add Contributor</a>
        </div>
        {% if course.5 == 'owner' %}
        <div class="col-md-3" >
            <a href="#test{{course.0}}" class= "btn btn-lg btn-outline-primary " data-toggle="modal">Delete</a>
        </div>
        {% endif %}

           
    </div>


    {% endfor %}
    </ul>
    

<!--student role-->

{% else %}

<h1>Courses</h1>
    <a href="{% url 'courses:enroll_course' %}" class = "btn btn-lg btn-outline-primary btn-lg">Add Course</a>
    <ul>
    {% for course in courses %}

    <div class="modal fade" id="test{{course.0}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body mx-3">
                    <h5 class="modal-title w-100 font-weight-bold"  style="text-align:center">Cancel enrolment for this course ?</h5>
                    <form class="form-settings" action="" method="POST">
                    {% csrf_token %}
                    
                    
                    <div class="modal-footer d-flex justify-content-center">
                        <button class="btn btn-info btn-sm" type="submit">Confirm</button> 
                        
                    </div>
                  </form>
      
                </div>
                
            </div>
        
        </div>
      </div> 


    <div class="row  pt-3  mydiv " >
        
        <div class="col-md-12"  onclick="window.location='{% url 'courses:course_topics_student' course.0 %}';" style="cursor:pointer;">
            <div class="row  pt-2" >
                <div class="col-6">
                    <h4 style="color:#069">{{course.1}}</h4>
                </div>

            </div>
            
            <div class="row  pt-1" >
                <div class="col-4">
                    <h6 style="color:#069">Class {{ course.2 }}</h6>
                </div>
                
              
            </div>
            <div class="row  pt-1" >
                <div class="col-4 ">
                {% if course.3 != None%}
                    
                        <h6 style="color:#069">{{course.3}}</h6>
                    
                {% endif %}
                </div>
            </div>
            
        </div>
<!--
        <div class="col-md-3" >
            <a href="#test{{course.0}}" class= "btn btn-lg btn-outline-primary btn-block" data-toggle="modal">Cancel Enrolment</a>
        </div>

-->
           
    </div>


    {% endfor %}
    </ul>
    


{% endif %}

{% endblock %}