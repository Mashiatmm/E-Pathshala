{% extends 'base.html' %}
{% block title %}Course Contents{% endblock %}
{% block body %}
<div class="modal fade" id="modalCourseForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header text-center">
              
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
          </div>
          <div class="modal-body mx-3">
              <form class="form-settings" action="{% url 'courses:edit_course' course_id %}" method="POST">
                  {% csrf_token %}
                  
                  <div class="md-form mb-4">
                      <label data-error="wrong" data-success="right" for="title">Course Title</label>
                      <input type="text" id='title' name = 'title' class="form-control validate" value = '{{courseinfo.0}}' required>
                      
                  </div>

                  <div class="md-form mb-4">
                    <label data-error="wrong" data-success="right" for="class">Class</label>
                    <input type="number" id='class' name = 'class' class="form-control validate" value = '{{courseinfo.1}}' required>
                    
                  </div>

                  <div class="md-form mb-4">
                      <label data-error="wrong" data-success="right" for="Description">Course Description</label>
                      <input type="text" id='Description' name = 'Description' class="form-control validate" value = '{{courseinfo.2}}' required>
                      
                  </div>

                  <div class="modal-footer d-flex justify-content-center">
                      <button class="btn btn-lg btn-outline-primary btn-block mb-5" type="submit">Confirm Changes</button> 
                      
                  </div>
                  </form>

          </div>
          
      </div>
  
  </div>
</div> 
<a href ="{% url 'accounts:profile' %}"><span class="oi oi-arrow-left"></span>Back</a>
<h2 class="text-center">{{courseinfo.0}}</h2>
<h4 class="text-center">Class {{courseinfo.1}}</h4>
<div class="text-center">
  <button class="button" data-toggle="modal" data-target="#modalCourseForm"><span class="oi oi-pencil"></span>Edit</button>
</div>
<br>
<h6>{{courseinfo.2}}</h6>

{% if error %}
<div style="padding-top: 50px;"></div>
<div class="alert alert-danger" style="padding-left: 400px;padding-top: 50;">{{error}}</div>
{% endif %}

<form class="form-settings" action="{% url 'courses:course_contents' course_id %}" method="POST" >

    {% csrf_token %}
    <div class="container " style="background-color: #F8F9F9 ;">
  
     
    <br>
      <div class="row pb-3">
        <div class="col-md-6">
          
          <input type="text" id="topic" name="topic" class="form-control" placeholder="Topic Title" required>
        
        </div>
      </div>

      <div class="row pb-3">
        <div class="col-md-9">
          <input type="text" id="topic_description" name="topic_description" class="form-control" placeholder="Topic Description" autofocus>

        </div>
      </div>
      <div class="row  pt-3">
      
        <div class="col-md-3" >
        
        <button class="btn btn-lg btn-outline-primary btn-block" type="submit">Add a new Topic</button> 
        <br></div>
        
      </div>
      
  
    </div>
   
</form>       

<h3 style="color:#cf3046">Topics</h3><br>
<ul>
    
{% for topic in topics %}
<div class="modal fade" id="test{{topic.0}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header text-center">
              
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
          </div>
          <div class="modal-body mx-3">
              <h5 class="modal-title w-100 font-weight-bold"  style="text-align:center">Delete this content permanently?</h5>
              <form class="form-settings" action="{% url 'courses:del_topic' course_id topic.0 %}" method="POST">
              {% csrf_token %}
              
              
              <div class="modal-footer d-flex justify-content-center">
                  <button class="btn btn-info btn-sm" type="submit">Confirm</button> 
                  
              </div>
            </form>

          </div>
          
      </div>
  
  </div>
</div> 





    <div class="row  pt-3  mydiv " >
        
        <div class="col-md-9"  onclick="window.location='{% url 'courses:topic_details' topic.0 %}';" style="cursor:pointer;">
            <div class="row  pt-2" >
                <h4 style="color:#069">{{topic.1}}</h4>
            </div>
            
            <div class="row  pt-2" >
              {{topic.2}}
            </div>
            
        </div>

        <div class="col-md-3" >
            <a href="#test{{topic.0}}" class= "button" data-toggle="modal">Delete</a>
        </div>
           
        
        

    </div>
    <br>   
{% endfor %}
</ul>


{% endblock %} 